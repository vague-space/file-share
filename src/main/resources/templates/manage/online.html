<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>online</title>
    <link rel="stylesheet" th:href="@{/static/layui/css/layui.css}" href="/static/layui/css/layui.css"/>
    <link rel="stylesheet" th:href="@{/static/element/index.css}" href="/static/element/index.css">
    <link rel="stylesheet" th:href="@{/static/css/main.css}" href="/static/css/main.css"/>
    <style>

    </style>
</head>
<body>
<div id="app">
    <!--  菜单  -->
    <div th:include="header :: common"></div>
    <div class="margin-20">
        <span class="layui-breadcrumb">
          <a href="javascript:;">系统管理</a>
          <a><cite>在线用户</cite></a>
        </span>
    </div>

    <div class="self-body">

        <div class="layui-container">
            <div class="center top-30">
                <table class="layui-hide" id="fileTable" lay-filter="test"></table>
            </div>
        </div>

    </div>

</div>

</body>
<script th:src="@{/static/libs/jquery-3.2.1.min.js}" src="/static/libs/jquery-3.2.1.min.js"
        type="text/javascript"></script>
<script th:src="@{/static/layui/layui.js}" src="/static/layui/layui.js" type="text/javascript"></script>
<script th:src="@{/static/js/main.js}" th:inline="none" type="text/javascript"></script>


<script type="text/javascript" th:inline="none">

    $(function () {
        setActive("info");
        $.get("/server/ip",
            function (dat) {
            });
    })

    const tableIndex = table.render({
        elem: '#fileTable'
        , url: '/server/online'
        , cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
        , cols: [[
            {field: 'ip', width: '40%', title: 'ip'},
            {field: 'lastLoginTime', width: '60%', title: '最近一次活跃时间'},
        ]],
        // response: {
        //     statusCode: 200 //重新规定成功的状态码为 200，table 组件默认为 0
        // }
    });


</script>


</html>
